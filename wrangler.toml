name = "cloudflare-auth-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# ログ設定
[observability]
enabled = true

# 環境変数
[vars]
AUTHORIZED_CLIENTS = '{"testclient":"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApkU9cFwOkP75z5nw1wFL\nBpKd8VZ6w9p3oNSZf3guqVsBfz+ic8Jgv3lalJM8DUd+9ueV+W6PwC1F4JThDKVz\nPRUPVwiLbG4JVRGabkzLDE+Y6F7FEfYFhhR+VR8m8ugTZ1XTPZEnJlrDbZQafwMK\n3yloswnzZq4kU7+RSIaqhuR5CMfGHiuA3Exq5E0AVOBjK2mXXECTykVR0OSkarRA\nC1gXnjZJwxt/nwa59t8gyS5kV+8XgzEJBQ/5QfxCFXjsrC14QGHB72NGZR9SKNp7\nnbi+VhMoSTH90Ixr/0FI1mmmIdbyylq/GfIgdSKp5pdSZ3z2hCOTyrW4TE2GgsAm\nAQIDAQAB\n-----END PUBLIC KEY-----","gowinproc": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzeVXK4+oKJsWMH3uY7du\nxNHakMAzy8WNvwVyiVyAham4zh+FOMzP0FJ8O6RLMWFG5ZIcgYmaSSmi9T4T1vDp\n7HnhKUXYGhH0lEhcqppeqvLiy1RAIBlxH2yyU6oQe+SwPYZbhQvhk9OXvgUWDzMo\nUVor+sB/h8LSn9GmDi3Uty0CGtoS5TlBmFKYfcqid6aNsNQ+oa4H1ZHYMd8J7toE\nU1fgK3jZwWcd4XKBwP+qQcdhQ0zM82eTiXwmmgRKSaLB+fKBnsi8+CTIV6ge3mm8\nROhmEgOalHLQzllrcnNj1qbsHpjjSwiNlFwGvqrzxive5aGGPr9s9j31cL9MdlH9\nRwIDAQAB\n-----END PUBLIC KEY-----"}'

# Durable Objects
[[durable_objects.bindings]]
name = "CHALLENGE_STORAGE"
class_name = "ChallengeStorage"

[[migrations]]
tag = "v1"
new_classes = ["ChallengeStorage"]

# Service Bindings
[[services]]
binding = "WEBHOOK_WORKER"
service = "github-webhook-worker"
