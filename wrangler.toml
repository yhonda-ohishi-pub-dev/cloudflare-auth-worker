name = "cloudflare-auth-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# ログ設定
[observability]
enabled = true

# 環境変数
[vars]
AUTHORIZED_CLIENTS = '{"testclient":"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApkU9cFwOkP75z5nw1wFL\nBpKd8VZ6w9p3oNSZf3guqVsBfz+ic8Jgv3lalJM8DUd+9ueV+W6PwC1F4JThDKVz\nPRUPVwiLbG4JVRGabkzLDE+Y6F7FEfYFhhR+VR8m8ugTZ1XTPZEnJlrDbZQafwMK\n3yloswnzZq4kU7+RSIaqhuR5CMfGHiuA3Exq5E0AVOBjK2mXXECTykVR0OSkarRA\nC1gXnjZJwxt/nwa59t8gyS5kV+8XgzEJBQ/5QfxCFXjsrC14QGHB72NGZR9SKNp7\nnbi+VhMoSTH90Ixr/0FI1mmmIdbyylq/GfIgdSKp5pdSZ3z2hCOTyrW4TE2GgsAm\nAQIDAQAB\n-----END PUBLIC KEY-----"}'

# Durable Objects
[[durable_objects.bindings]]
name = "CHALLENGE_STORAGE"
class_name = "ChallengeStorage"

[[migrations]]
tag = "v1"
new_classes = ["ChallengeStorage"]

# Service Bindings
[[services]]
binding = "WEBHOOK_WORKER"
service = "github-webhook-worker"
